{% extends "layout.html" %}
{% block content %}
<section class="glass" style="padding:16px;max-width:720px">
  <h2 style="margin:0 0 12px">{{ 'Редактирование' if getattr(item,'id',None) else 'Новая аудитория' }}</h2>
  <form method="post" class="form">
    <label class="search-label">Номер</label>
    <input class="search-input" name="number" value="{{ getattr(item,'number','') }}">

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
      <div>
        <label class="search-label">Корпус</label>
        <select class="search-input" name="building_id">
          <option value="">—</option>
          {% for b in buildings %}
            <option value="{{ b.id }}" {% if getattr(item,'building_id',None)==b.id %}selected{% endif %}>
              {{ getattr(b,'name', getattr(b,'title','')) }}
            </option>
          {% endfor %}
        </select>
      </div>
      <div>
        <label class="search-label">Тип</label>
        <select class="search-input" name="room_type_id">
          <option value="">—</option>
          {% for t in room_types %}
            <option value="{{ t.id }}" {% if getattr(item,'room_type_id',None)==t.id %}selected{% endif %}>
              {{ getattr(t,'title', getattr(t,'name','')) }}
            </option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px">
      <div>
        <label class="search-label">Вместимость</label>
        <input class="search-input" type="number" min="0" step="1" name="capacity" value="{{ getattr(item,'capacity','') }}">
      </div>
      <div>
        <label class="search-label">ПК (если компьютерный класс)</label>
        <input class="search-input" type="number" min="0" step="1" name="computers_count" value="{{ getattr(item,'computers_count', getattr(item,'computers','')) }}">
      </div>
    </div>

    <div style="margin-top:12px">
      <button class="btn" type="submit">Сохранить</button>
      <a class="btn ghost" href="{{ url_for('admin.rooms_list') }}">Назад</a>
    </div>
  </form>
</section>
{% endblock %}
